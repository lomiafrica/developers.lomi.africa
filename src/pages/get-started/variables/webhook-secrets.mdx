# Webhook Secrets

Webhook secrets are used to secure your webhook endpoints and ensure that incoming requests originate from lomi.. By verifying the webhook signature using the secret, you can protect against unauthorized or fraudulent requests.

## Creating Webhook Secrets

To create a webhook secret:

1. Log in to your lomi. account and navigate to the "Settings" page.
2. Click on the "Webhooks" tab.
3. Click the "Add Webhook" button.
4. Enter the URL of your webhook endpoint and select the events you want to subscribe to.
5. In the "Secret" field, enter a secure random string to use as your webhook secret.
6. Save your changes.

## Using Webhook Secrets

When lomi. sends a webhook request to your endpoint, it includes a signature in the `X-Lomi-Signature` header. This signature is generated using your webhook secret and the request payload.

To verify the signature and ensure the authenticity of the request:

1. Extract the signature from the `X-Lomi-Signature` header.
2. Compute the expected signature using your webhook secret and the request payload.
3. Compare the expected signature with the received signature. If they match, the request is authentic.

Here's an example of how to verify the signature in Node.js:

```javascript
const crypto = require('crypto');

const secret = 'YOUR_WEBHOOK_SECRET';
const receivedSignature = req.headers['x-lomi-signature'];
const expectedSignature = crypto.createHmac('sha256', secret)
  .update(JSON.stringify(req.body))
  .digest('hex');

if (receivedSignature === expectedSignature) {
  // The request is authentic
} else {
  // The request is not authentic
}
```

## Best Practices

- Use a strong, randomly generated string for your webhook secret.
- Store your webhook secret securely and never share it with anyone.
- Rotate your webhook secret periodically to maintain security.
- Always verify the webhook signature to ensure the authenticity of incoming requests.

By implementing webhook secrets and verifying signatures, you can protect your integration from unauthorized or fraudulent requests and ensure the security of your system. 