# Discounts

Create and manage discounts for your products and subscriptions using lomi.'s discount system. Offer percentage or fixed amount discounts, time-limited promotions, and customer-specific deals.

## Types of Discounts

### Percentage Discounts
```typescript
const discount = await lomi.discounts.create({
  name: "Summer Sale",
  percent_off: 20,
  duration: "once",
  currency: "XOF"
});
```

### Fixed Amount Discounts
```typescript
const discount = await lomi.discounts.create({
  name: "New Customer",
  amount_off: 5000, // 5,000 XOF off
  currency: "XOF",
  duration: "once"
});
```

## Duration Types

- `once` - One-time discount
- `repeating` - Applies for specific number of months
- `forever` - Applies indefinitely

## Discount Codes

Create promotional codes for your discounts:

```typescript
const promoCode = await lomi.promotionCodes.create({
  discount: "disc_123456789",
  code: "WELCOME2024",
  max_redemptions: 100,
  expires_at: 1735689600 // Unix timestamp
});
```

### Code Restrictions
- Maximum redemptions
- Expiration date
- Minimum purchase amount
- Customer eligibility
- Product restrictions

## Applying Discounts

### To One-time Payments
```typescript
const payment = await lomi.payments.create({
  amount: 10000,
  currency: "XOF",
  discount: "disc_123456789"
});
```

### To Subscriptions
```typescript
const subscription = await lomi.subscriptions.create({
  customer: "cus_123456789",
  plan: "plan_987654321",
  discount: "disc_123456789"
});
```

## Managing Discounts

### List Active Discounts
```typescript
const discounts = await lomi.discounts.list({
  active: true,
  limit: 10
});
```

### Update a Discount
```typescript
const discount = await lomi.discounts.update("disc_123456789", {
  metadata: {
    order_id: "123456789"
  }
});
```

### Delete a Discount
```typescript
await lomi.discounts.delete("disc_123456789");
```

## Discount Analytics

Track discount usage in your Dashboard:
- Total discount amount used
- Number of redemptions
- Revenue impact
- Most popular discounts
- Customer usage patterns

## Best Practices

1. **Set Clear Limits**
   - Maximum discount amount
   - Usage restrictions
   - Time limitations

2. **Monitor Usage**
   - Track redemption rates
   - Analyze revenue impact
   - Watch for abuse

3. **Customer Communication**
   - Clear terms and conditions
   - Expiration notifications
   - Usage instructions

## Testing Discounts

Test your discount implementation:
1. Create test discounts
2. Verify calculations
3. Test edge cases
4. Check expiration handling

For more details, see our [Discounts API Reference](/api-reference/discounts).
