# Customer Management

Manage your customers effectively with lomi.'s customer management system. Track customer information, payment methods, and purchase history in one place.

## Creating Customers

Create a new customer record:

```typescript
const customer = await lomi.customers.create({
  email: "customer@example.com",
  name: "John Doe",
  phone: "+221777777777",
  metadata: {
    source: "website",
    referral: "google"
  }
});
```

## Customer Data

### Required Information
- Email address
- Name
- Phone number (for mobile money)

### Optional Information
- Address
- Company details
- Custom metadata
- Language preference

## Managing Customers

### Update Customer Details
```typescript
const customer = await lomi.customers.update("cus_123456789", {
  email: "newemail@example.com",
  metadata: {
    preferences: "email_marketing"
  }
});
```

### List Customers
```typescript
const customers = await lomi.customers.list({
  limit: 10,
  email: "customer@example.com"
});
```

## Payment Methods

### Add Payment Method
```typescript
const paymentMethod = await lomi.paymentMethods.create({
  customer: "cus_123456789",
  type: "mobile_money",
  phone: "+221777777777",
  provider: "orange_money"
});
```

### List Payment Methods
```typescript
const paymentMethods = await lomi.paymentMethods.list({
  customer: "cus_123456789",
  type: "mobile_money"
});
```

## Customer Portal

Give customers self-service access:
```typescript
const session = await lomi.customerPortal.sessions.create({
  customer: "cus_123456789",
  return_url: "https://your-site.com/account"
});
```

## Purchase History

View customer transactions:
```typescript
const payments = await lomi.payments.list({
  customer: "cus_123456789",
  limit: 10
});
```

## Customer Analytics

Track customer metrics:
- Lifetime value
- Purchase frequency
- Payment preferences
- Product preferences

## Security

### Data Protection
- Encrypted customer data
- Secure payment information
- GDPR compliance
- Data retention policies

### Access Control
- Role-based permissions
- Audit logging
- Session management
- API key restrictions

## Best Practices

1. **Data Quality**
   - Validate email addresses
   - Verify phone numbers
   - Keep records updated
   - Remove duplicate entries

2. **Communication**
   - Clear privacy policy
   - Consent management
   - Communication preferences
   - Transaction notifications

3. **Security**
   - Secure data storage
   - Access controls
   - Regular audits
   - Incident response plan

For more details, see our [Customer Management API Reference](/api-reference/customers).